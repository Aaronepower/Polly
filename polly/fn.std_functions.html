<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `std_functions` fn in crate `polly`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, std_functions">

    <title>polly::std_functions - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='index.html'>polly</a></p><script>window.sidebarCurrent = {name: 'std_functions', ty: 'fn', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content fn">
<h1 class='fqn'><span class='in-band'>Function <a href='index.html'>polly</a>::<wbr><a class='fn' href=''>std_functions</a></span><span class='out-of-band'><span id='render-detail'>
            <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                [<span class='inner'>&#x2212;</span>]
            </a>
        </span><a id='src-1359' class='srclink' href='../src/polly/template.rs.html#161-303' title='goto source code'>[src]</a></span></h1>
<pre class='rust fn'>pub fn std_functions() -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html' title='std::collections::hash::map::HashMap'>HashMap</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>, <a class='type' href='../polly/type.PolyFn.html' title='polly::PolyFn'>PolyFn</a>&gt;</pre><div class='docblock'>
<h1 id='standard-functions-of-polly' class='section-header'><a href='#standard-functions-of-polly'>Standard Functions of Polly</a></h1>
<p><strong>Note:</strong> This shouldn&#39;t be imported in into your crate, but is exposed as a way to incorporate
Polly&#39;s functions into the documentation.</p>

<h2 id='stdeach' class='section-header'><a href='#stdeach'>std.each</a></h2>
<p><strong>Arguments</strong></p>

<ul>
<li>array - The array of JSON to be iterated over.</li>
<li>component - The component to render for each element in array.</li>
</ul>

<p>Applies a component to each element in the array. If the component takes more than one argument,
the component can only be used with objects(in which case the function will attempt to find the
object&#39;s property based on the argument name), or arrays of the same length as the number of
arguments.</p>
<pre class='rust rust-example-rendered'>
<span class='kw'>extern</span> <span class='kw'>crate</span> <span class='ident'>serde_json</span>;
<span class='kw'>extern</span> <span class='kw'>crate</span> <span class='ident'>polly</span>;
 
<span class='kw'>use</span> <span class='ident'>serde_json</span>::<span class='ident'>Value</span>;
<span class='kw'>use</span> <span class='ident'>polly</span>::<span class='ident'>Template</span>;
<span class='kw'>fn</span> <span class='ident'>main</span>() {
    <span class='kw'>const</span> <span class='ident'>EXPECTED</span>: <span class='kw-2'>&amp;</span><span class='lifetime'>&#39;static</span> <span class='ident'>str</span> <span class='op'>=</span> <span class='string'>&quot;\
    &lt;html&gt;\
        &lt;body&gt;\
            &lt;ul&gt;\
                &lt;li&gt;Item 1&lt;/li&gt;\
                &lt;li&gt;Item 2&lt;/li&gt;\
                &lt;li&gt;Item 3&lt;/li&gt;\
            &lt;/ul&gt;\
        &lt;/body&gt;\
    &lt;/html&gt;&quot;</span>;
    <span class='kw'>let</span> <span class='ident'>json</span>: <span class='ident'>Value</span> <span class='op'>=</span> <span class='ident'>serde_json</span>::<span class='ident'>from_str</span>(<span class='string'>r#&quot;{&quot;array&quot;: [&quot;Item 1&quot;,&quot;Item 2&quot;,&quot;Item 3&quot;]}&quot;#</span>).<span class='ident'>unwrap</span>();
    <span class='kw'>let</span> <span class='ident'>json</span> <span class='op'>=</span> <span class='ident'>json</span>.<span class='ident'>as_object</span>().<span class='ident'>unwrap</span>().<span class='ident'>clone</span>();
    <span class='kw'>let</span> <span class='ident'>template</span> <span class='op'>=</span> <span class='ident'>Template</span>::<span class='ident'>load_from_source</span>(<span class='string'>&quot;documentation&quot;</span>, <span class='string'>r#&quot;
    &amp;listItem(@item) {/li{@item}}
    /html {
       /body {
           /ul{$std.each(component = &amp;listItem, array = @array)}
       }
    }
    &quot;#</span>);
     
     <span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>template</span>.<span class='ident'>json</span>(<span class='ident'>json</span>).<span class='ident'>no_locales</span>().<span class='ident'>render</span>(<span class='string'>&quot;en&quot;</span>).<span class='ident'>unwrap</span>(), <span class='ident'>EXPECTED</span>);
}</pre>

<h2 id='stdif' class='section-header'><a href='#stdif'>std.if</a></h2>
<p><strong>Arguments</strong></p>

<ul>
<li>condition - The condition to be checked.</li>
<li>component - The component to be rendered based on the trueness of the condition.</li>
<li>json(<em>optional</em>) - The JSON passed to the component if needed.</li>
</ul>

<p>Checks the JSON value of condition, and if it is true, renders the component, optinally passing
in JSON for the component. It is important to note that what counts as true is similar to \
JavaScript, so it doesn&#39;t have to be strictly a boolean.</p>

<p><strong>Boolean conditions</strong></p>

<ul>
<li>Array - false if the array&#39;s length is 0.</li>
<li>Null - Always false.</li>
<li>Bool - The literal value.</li>
<li>I64 - false if = 0.</li>
<li>U64 - false if = 0.</li>
<li>F64 - false if = 0.0.</li>
<li>String - false if the string is empty.</li>
<li>Object - false if the object is empty.</li>
</ul>
<pre class='rust rust-example-rendered'>
<span class='kw'>extern</span> <span class='kw'>crate</span> <span class='ident'>serde_json</span>;
<span class='kw'>extern</span> <span class='kw'>crate</span> <span class='ident'>polly</span>;
 
<span class='kw'>use</span> <span class='ident'>serde_json</span>::<span class='ident'>Value</span>;
<span class='kw'>use</span> <span class='ident'>polly</span>::<span class='ident'>Template</span>;
<span class='kw'>fn</span> <span class='ident'>main</span>() {
    <span class='kw'>const</span> <span class='ident'>EXPECTED</span>: <span class='kw-2'>&amp;</span><span class='lifetime'>&#39;static</span> <span class='ident'>str</span> <span class='op'>=</span> <span class='string'>&quot;\
    &lt;html&gt;\
        &lt;body&gt;\
        &lt;/body&gt;\
    &lt;/html&gt;&quot;</span>;
    <span class='kw'>let</span> <span class='ident'>json</span>: <span class='ident'>Value</span> <span class='op'>=</span> <span class='ident'>serde_json</span>::<span class='ident'>from_str</span>(<span class='string'>r#&quot;{&quot;bool&quot;: false}&quot;#</span>).<span class='ident'>unwrap</span>();
    <span class='kw'>let</span> <span class='ident'>json</span> <span class='op'>=</span> <span class='ident'>json</span>.<span class='ident'>as_object</span>().<span class='ident'>unwrap</span>().<span class='ident'>clone</span>();
    <span class='kw'>let</span> <span class='ident'>template</span> <span class='op'>=</span> <span class='ident'>Template</span>::<span class='ident'>load_from_source</span>(<span class='string'>&quot;documentation&quot;</span>, <span class='string'>r#&quot;
    &amp;component {/h1{Hello World!}}
    /html {
       /body {
           $std.if(component = &amp;component, condition = @bool)
       }
    }
    &quot;#</span>);
     
     <span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>template</span>.<span class='ident'>json</span>(<span class='ident'>json</span>).<span class='ident'>no_locales</span>().<span class='ident'>render</span>(<span class='string'>&quot;en&quot;</span>).<span class='ident'>unwrap</span>(), <span class='ident'>EXPECTED</span>);
}</pre>

<h2 id='stdif_else' class='section-header'><a href='#stdif_else'>std.if_else</a></h2>
<p><strong>Arguments</strong></p>

<ul>
<li>condition - The condition to be checked.</li>
<li>component - The component to be rendered based on the trueness of the condition.</li>
<li>else - The component rendered if the condition is false.</li>
<li>json(<em>optional</em>) - The JSON passed to the component, or the else component if needed.</li>
</ul>

<p>Follows the same rules as <strong>std.if</strong> except with the ability to render a component if the value
is false. </p>
<pre class='rust rust-example-rendered'>
<span class='kw'>extern</span> <span class='kw'>crate</span> <span class='ident'>serde_json</span>;
<span class='kw'>extern</span> <span class='kw'>crate</span> <span class='ident'>polly</span>;
 
<span class='kw'>use</span> <span class='ident'>serde_json</span>::<span class='ident'>Value</span>;
<span class='kw'>use</span> <span class='ident'>polly</span>::<span class='ident'>Template</span>;
<span class='kw'>fn</span> <span class='ident'>main</span>() {
    <span class='kw'>const</span> <span class='ident'>EXPECTED</span>: <span class='kw-2'>&amp;</span><span class='lifetime'>&#39;static</span> <span class='ident'>str</span> <span class='op'>=</span> <span class='string'>&quot;\
    &lt;html&gt;\
        &lt;body&gt;\
            &lt;h1&gt;Goodbye World!&lt;/h1&gt;\
        &lt;/body&gt;\
    &lt;/html&gt;&quot;</span>;
    <span class='kw'>let</span> <span class='ident'>json</span>: <span class='ident'>Value</span> <span class='op'>=</span> <span class='ident'>serde_json</span>::<span class='ident'>from_str</span>(<span class='string'>r#&quot;{&quot;bool&quot;: false}&quot;#</span>).<span class='ident'>unwrap</span>();
    <span class='kw'>let</span> <span class='ident'>json</span> <span class='op'>=</span> <span class='ident'>json</span>.<span class='ident'>as_object</span>().<span class='ident'>unwrap</span>().<span class='ident'>clone</span>();
    <span class='kw'>let</span> <span class='ident'>template</span> <span class='op'>=</span> <span class='ident'>Template</span>::<span class='ident'>load_from_source</span>(<span class='string'>&quot;documentation&quot;</span>, <span class='string'>r#&quot;
    &amp;hello {Hello}
    &amp;goodbye {Goodbye}
    /html {
       /body {
           /h1 {$std.if_else(component = &amp;hello, condition = @bool, else = &amp;goodbye) World!}
       }
    }
    &quot;#</span>);
     
     <span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>template</span>.<span class='ident'>json</span>(<span class='ident'>json</span>).<span class='ident'>no_locales</span>().<span class='ident'>render</span>(<span class='string'>&quot;en&quot;</span>).<span class='ident'>unwrap</span>(), <span class='ident'>EXPECTED</span>);
}</pre>
</div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "polly";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script defer src="../search-index.js"></script>
</body>
</html>